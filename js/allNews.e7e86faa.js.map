{"version":3,"file":"js/allNews.e7e86faa.js","mappings":"iNAAkG,aAAC,IAAGA,EAAG,KAA+C,IAAS,MAAM,G,OAAEC,EAAAA,MAAY,CAAiB,MAAM,CAAWC,GAAK,Y,CAAqC,iCAAC,OAAM,QAAS,CAAaA,YAAM,mB,CAAC,YAAWC,C,MAAI,CAAe,sCAAcF,CAAAA,EAAAA,EAAAA,EAAW,CAAC,OAAa,MAAK,CAAOA,IAAAA,EAAY,IAAkBD,MAAQ,WAAiDI,EAAG,MAAO,CAA2BH,YAAY,cAAgB,CAACG,EAAG,MAAO,CAAiGF,YAAM,iB,CAAC,QAAO,SAAE,YAAC,yBAACG,CAAE,EAAC,2B,YAAS,gB,GAAiB,KAAOD,GAAIE,EAAMC,WAAK,uD,MAAA,CAAC,SAA8C,GAAG,CAChvB,kBACGC,OAAAA,EAAe,MAAK,EAExB,I,oFCgBA,GACAC,KAAA,UACAC,IAAAA,GACA,OACAC,KAAA,GACAJ,KAAA,GAEA,EACAK,WAAA,CACAC,OAAAA,KAEAC,QAAA,CACAR,KAAAA,CAAAC,GACA,KAAAQ,QAAAC,KACA,CACAC,OAAA,CAAAC,GAAAX,EAAAY,KACAV,KAAA,WAGA,GAEAW,OAAAA,GACA,KAAAC,MAAAC,IAAAC,0CACAC,MAAAC,IACAA,EAAAf,KAAAgB,SACA,KAAAf,KAAAc,EAAAf,KAAAiB,OAAAC,KAAArB,IACAA,EAAAJ,IAAAoB,gDAAAhB,EAAAsB,KACAtB,EAAAuB,QAAAvB,EAAAuB,QAAAC,OAAA,OACAxB,KAEA,KAAAI,KAAAqB,UACAC,QAAAC,IAAA,KAAAvB,QAEA,KAAAwB,MAAA,CACAC,KAAA,QACAC,MAAA,KACAC,KAAAb,EAAAf,KAAA6B,UAEAN,QAAAC,IAAAT,EAAAf,MACA,IAEA8B,OAAAC,IACA,QAAAA,EAAAC,SAAAhC,KAAA6B,UAEA,KAAAI,OAAAC,OAAA,UAEA,gBAAAC,OAAAC,MACA,KAAA/B,QAAAC,KAAA,WAGA,KAAAmB,MAAA,CACAC,KAAA,QACAC,MAAA,KACAC,KAAAG,EAAAC,SAAAhC,KAAA6B,SACA,GAEA,GC5EuP,I,UCOnPQ,GAAY,OACd,EACAC,EACAxC,GACA,EACA,KACA,KACA,MAIF,EAAeuC,EAAiB,O","sources":["webpack://photolab/./src/views/AllNews.vue","webpack://photolab/src/views/AllNews.vue","webpack://photolab/./src/views/AllNews.vue?3644","webpack://photolab/./src/views/AllNews.vue?dd90"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"allNews\"}},[_c('v-app',_vm._l((_vm.news),function(item,index){return _c('div',{staticClass:\"new mt-10 mb-10\"},[_c('vue-aos',{attrs:{\"animation-class\":\"fadeIn animated\"}},[_c('v-card',[_c('v-img',{attrs:{\"src\":item.src,\"width\":\"600px\"}}),_c('div',{staticClass:\"card-right\"},[_c('div',{staticClass:\"article ma-10\"},[_c('pre',[_c('h2',{staticClass:\"logo-color news_title\"},[_vm._v(_vm._s(item.title))]),_c('p',{staticClass:\"sm-font gray\"},[_vm._v(_vm._s(item.date))])]),_c('v-divider'),_c('span',[_vm._v(_vm._s(item.content)+\" ...\")]),_c('v-btn',{attrs:{\"dark\":\"\"},on:{\"click\":function($event){return _vm.click(item)}}},[_vm._v(\"READ MORE\")])],1)])],1)],1)],1)}),0)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\r\n  #allNews\r\n    v-app\r\n      .new.mt-10.mb-10(v-for='(item, index) in news' )\r\n        vue-aos(animation-class='fadeIn animated')\r\n          v-card\r\n            v-img(:src='item.src' width='600px')\r\n            .card-right\r\n              .article.ma-10\r\n                pre\r\n                  h2.logo-color.news_title {{item.title}}\r\n                  p.sm-font.gray {{item.date}}\r\n                v-divider\r\n                span {{item.content}} ...\r\n                v-btn(dark @click='click(item)') READ MORE\r\n</template>\r\n\r\n<script>\r\nimport VueAos from 'vue-aos'\r\n\r\nexport default {\r\n  name: 'allNews',\r\n  data () {\r\n    return {\r\n      news: [],\r\n      item: []\r\n    }\r\n  },\r\n  components: {\r\n    VueAos\r\n  },\r\n  methods: {\r\n    click (item) {\r\n      this.$router.push(\r\n        {\r\n          params: { id: item._id },\r\n          name: 'Article'\r\n        }\r\n      )\r\n    }\r\n  },\r\n  mounted () {\r\n    this.axios.get(process.env.VUE_APP_API + '/news/')\r\n      .then(res => {\r\n        if (res.data.success) {\r\n          this.news = res.data.result.map(item => {\r\n            item.src = process.env.VUE_APP_API + '/photos/file/' + item.file\r\n            item.content = item.content.substr(0, 100)\r\n            return item\r\n          })\r\n          this.news.reverse()\r\n          console.log(this.news)\r\n        } else {\r\n          this.$swal({\r\n            icon: 'error',\r\n            title: '錯誤',\r\n            text: res.data.message\r\n          })\r\n          console.log(res.data)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        if (err.response.data.message === '未登入') {\r\n          // 登出\r\n          this.$store.commit('logout')\r\n          // 導回首頁\r\n          if (this.$route.path !== '/login') {\r\n            this.$router.push('/login')\r\n          }\r\n        }\r\n        this.$swal({\r\n          icon: 'error',\r\n          title: '錯誤',\r\n          text: err.response.data.message\r\n        })\r\n      })\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AllNews.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AllNews.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AllNews.vue?vue&type=template&id=607f97f1&lang=pug&\"\nimport script from \"./AllNews.vue?vue&type=script&lang=js&\"\nexport * from \"./AllNews.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["_c","staticClass","attrs","src","_vm","on","click","item","staticRenderFns","name","data","news","components","VueAos","methods","$router","push","params","id","_id","mounted","axios","get","process","then","res","success","result","map","file","content","substr","reverse","console","log","$swal","icon","title","text","message","catch","err","response","$store","commit","$route","path","component","render"],"sourceRoot":""}